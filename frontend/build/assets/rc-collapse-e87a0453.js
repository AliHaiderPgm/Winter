import{c as j,b as g,h as T,g as $,d as z,f as F}from"./@babel-43e769cc.js";import{c as p}from"./classnames-5da7e38f.js";import{K as D,B as G,p as J,b as Q}from"./rc-util-49c06749.js";import{a as i}from"./react-52c5f799.js";import{C as U}from"./rc-motion-6c938c71.js";var B=i.forwardRef(function(e,t){var a,n=e.prefixCls,c=e.forceRender,b=e.className,P=e.style,d=e.children,r=e.isActive,m=e.role,A=i.useState(r||c),l=j(A,2),o=l[0],v=l[1];return i.useEffect(function(){(c||r)&&v(!0)},[c,r]),o?i.createElement("div",{ref:t,className:p("".concat(n,"-content"),(a={},g(a,"".concat(n,"-content-active"),r),g(a,"".concat(n,"-content-inactive"),!r),a),b),style:P,role:m},i.createElement("div",{className:"".concat(n,"-content-box")},d)):null});B.displayName="PanelContent";var X=["showArrow","headerClass","isActive","onItemClick","forceRender","className","prefixCls","collapsible","accordion","panelKey","extra","header","expandIcon","openMotion","destroyInactivePanel","children"],H=i.forwardRef(function(e,t){var a,n,c=e.showArrow,b=c===void 0?!0:c,P=e.headerClass,d=e.isActive,r=e.onItemClick,m=e.forceRender,A=e.className,l=e.prefixCls,o=e.collapsible,v=e.accordion,E=e.panelKey,f=e.extra,y=e.header,u=e.expandIcon,I=e.openMotion,x=e.destroyInactivePanel,s=e.children,K=T(e,X),C=o==="disabled",N=o==="header",h=o==="icon",k=f!=null&&typeof f!="boolean",w=function(){r==null||r(E)},O=function(M){(M.key==="Enter"||M.keyCode===D.ENTER||M.which===D.ENTER)&&w()},_=typeof u=="function"?u(e):i.createElement("i",{className:"arrow"});_&&(_=i.createElement("div",{className:"".concat(l,"-expand-icon"),onClick:["header","icon"].includes(o)?w:void 0},_));var L=p((a={},g(a,"".concat(l,"-item"),!0),g(a,"".concat(l,"-item-active"),d),g(a,"".concat(l,"-item-disabled"),C),a),A),V=p(P,(n={},g(n,"".concat(l,"-header"),!0),g(n,"".concat(l,"-header-collapsible-only"),N),g(n,"".concat(l,"-icon-collapsible-only"),h),n)),R={className:V,"aria-expanded":d,"aria-disabled":C,onKeyDown:O};return!N&&!h&&(R.onClick=w,R.role=v?"tab":"button",R.tabIndex=C?-1:0),i.createElement("div",$({},K,{ref:t,className:L}),i.createElement("div",R,b&&_,i.createElement("span",{className:"".concat(l,"-header-text"),onClick:o==="header"?w:void 0},y),k&&i.createElement("div",{className:"".concat(l,"-extra")},f)),i.createElement(U,$({visible:d,leavedClassName:"".concat(l,"-content-hidden")},I,{forceRender:m,removeOnLeave:x}),function(S,M){var W=S.className,q=S.style;return i.createElement(B,{ref:M,prefixCls:l,className:W,style:q,isActive:d,forceRender:m,role:v?"tabpanel":void 0},s)}))}),Y=["children","label","key","collapsible","onItemClick","destroyInactivePanel"],Z=function(t,a){var n=a.prefixCls,c=a.accordion,b=a.collapsible,P=a.destroyInactivePanel,d=a.onItemClick,r=a.activeKey,m=a.openMotion,A=a.expandIcon;return t.map(function(l,o){var v=l.children,E=l.label,f=l.key,y=l.collapsible,u=l.onItemClick,I=l.destroyInactivePanel,x=T(l,Y),s=String(f??o),K=y??b,C=I??P,N=function(w){K!=="disabled"&&(d(w),u==null||u(w))},h=!1;return c?h=r[0]===s:h=r.indexOf(s)>-1,i.createElement(H,$({},x,{prefixCls:n,key:s,panelKey:s,isActive:h,accordion:c,openMotion:m,expandIcon:A,header:E,collapsible:K,onItemClick:N,destroyInactivePanel:C}),v)})},ee=function(t,a,n){if(!t)return null;var c=n.prefixCls,b=n.accordion,P=n.collapsible,d=n.destroyInactivePanel,r=n.onItemClick,m=n.activeKey,A=n.openMotion,l=n.expandIcon,o=t.key||String(a),v=t.props,E=v.header,f=v.headerClass,y=v.destroyInactivePanel,u=v.collapsible,I=v.onItemClick,x=!1;b?x=m[0]===o:x=m.indexOf(o)>-1;var s=u??P,K=function(h){s!=="disabled"&&(r(h),I==null||I(h))},C={key:o,panelKey:o,header:E,headerClass:f,isActive:x,prefixCls:c,destroyInactivePanel:y??d,openMotion:A,accordion:b,children:t.props.children,onItemClick:K,expandIcon:l,collapsible:s};return typeof t.type=="string"?t:(Object.keys(C).forEach(function(N){typeof C[N]>"u"&&delete C[N]}),i.cloneElement(t,C))};function ae(e,t,a){return Array.isArray(e)?Z(e,a):G(t).map(function(n,c){return ee(n,c,a)})}function ne(e){var t=e;if(!Array.isArray(t)){var a=z(t);t=a==="number"||a==="string"?[t]:[]}return t.map(function(n){return String(n)})}var le=i.forwardRef(function(e,t){var a=e.prefixCls,n=a===void 0?"rc-collapse":a,c=e.destroyInactivePanel,b=c===void 0?!1:c,P=e.style,d=e.accordion,r=e.className,m=e.children,A=e.collapsible,l=e.openMotion,o=e.expandIcon,v=e.activeKey,E=e.defaultActiveKey,f=e.onChange,y=e.items,u=p(n,r),I=J([],{value:v,onChange:function(k){return f==null?void 0:f(k)},defaultValue:E,postState:ne}),x=j(I,2),s=x[0],K=x[1],C=function(k){return K(function(){if(d)return s[0]===k?[]:[k];var w=s.indexOf(k),O=w>-1;return O?s.filter(function(_){return _!==k}):[].concat(F(s),[k])})};Q(!m,"`children` will be removed in next major version. Please use `items` instead.");var N=ae(y,m,{prefixCls:n,accordion:d,openMotion:l,expandIcon:o,collapsible:A,destroyInactivePanel:b,onItemClick:C,activeKey:s});return i.createElement("div",{ref:t,className:u,style:P,role:d?"tablist":void 0},N)});const te=Object.assign(le,{Panel:H});te.Panel;export{te as C};
